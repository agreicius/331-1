<?xml version="1.0" encoding="UTF-8"?>

<section xml:id="s_crt" xmlns:xi="http://www.w3.org/2001/XInclude">
    <title>Chinese remainder theorem</title>
   
   <subsection xml:id="ss_">
   <title>Chinese remainder theorem: general form</title>
    <p>
        In its general form, the Chinese remainder theorem (CRT) articulates conditions for which a given ring can be expressed (up to isomorphism) as a direct product of rings. The result is a pervasive and useful tool in ring theory, often employed to prove some property of a given ring <m>R</m> by exhibiting an isomorphism between <m>R</m> and a product ring <m>\prod_{k=1}^n S_k</m>, and proving a similar result for the (often simpler rings) <m>S_k</m>, and then using the simple structure of product rings to lift the result back to <m>R</m>.
    </p>
    <p>
        The specific conditions laid out by the CRT involve quotients of rings by pairwise <em>relatively prime ideals</em>. 
    </p>
    <definition xml:id="d_rel_prime_ideals">
    <title>Relatively prime ideals</title>
    <statement>
    <p>
    Let <m>R</m> be a nonzero commutative ring. Ideals <m>I</m> and <m>J</m> of <m>R</m> are relatively prime if <m>I+J=R</m>. Equivalently, <m>I</m> and <m>J</m> are relatively prime if we can write <m>1=i+j</m> for some <m>i\in I</m> and <m>j\in J</m>. 
    </p>
    </statement>
    </definition>
    
    <theorem xml:id="th_crt">
    <title>Chinese remainder theorem (CRT)</title>
    <statement>
    <p>
    Let <m>R</m> be a commutative ring, and let <m>I_1, I_2, \dots, I_n</m> be ideals of <m>R</m>. For all <m>1\leq k\leq n</m>, we let <m>\pi_k\colon R\rightarrow R/I_k</m> be the quotient map, and we define  
    <md>
        <mrow>\phi\colon R \amp \rightarrow \prod_{k=1}^n R/I_k</mrow>
        <mrow> r \amp \mapsto (\pi_1(r), \pi_2(r),\dots, \pi_n(r)) </mrow>
    </md>.
    <ol>
        <li>
            <p>
                <m>\phi</m> is a ring homomorphism with kernel 
                <md>
                    <mrow>\ker\phi \amp =\bigcap_{k=1}^n I_k</mrow>
                </md>.
            </p>
        </li>
        <li>
            <p>
                <m>\phi</m> is surjective if and only if the ideals <m>I_k</m> are pairwise relatively prime: <ie/>, <m>I_j+I_k=R</m> for all <m>j\ne k</m>. 
            </p>
        </li>
        <li>
            <p>
                If the ideals <m>I_k</m> are pairwise relatively prime, then 
                <md>
                    <mrow>\bigcap_{k=1}^n I_k \amp =\prod_{k=1}^n I_k</mrow>
                </md>,
                and we have 
                <md>
                    <mrow>R/\prod_{k=1}^n I_k \amp \cong \prod_{k=1}^n R/I_k</mrow>
                </md>.
            </p>
        </li>
    </ol>
    </p>
    </statement>
    <proof>
    <p>
        <ol>
            <li>
                <p>
                    That <m>\phi</m> is a ring homomorphism follows easily from the ring structure on <m>\prod_{k=1}^n R/I_k</m>. As for the statement about the kernel, we have 
                    <md>
                        <mrow>\ker\phi \amp = \bigcap_{k=1}^n\ker \pi_k</mrow>
                        <mrow> \amp =\bigcap_{k=1}^n I_k</mrow>
                    </md>.
                </p>
            </li>
            <li>
                <p>
                    
                </p>
            </li>
        </ol>
    </p>
    </proof>
    </theorem>
    <p>
        Since a ring isomorphism <m>\phi\colon R\rightarrow S</m> restricts to an isomorphism between the unit groups <m>R^*</m> and <m>S^*</m>, and since for any product ring <m>S=\prod_{i\in I}R_i</m> we have <m>S^*=\prod_{i\in i}R_i^*</m>, we immediately obtain the following corollary.
    </p>
    <corollary xml:id="cor_crt_units">
    <title>CRT for unit groups</title>
    <statement>
    <p>
        Let <m>R</m> be a commutative ring, let <m>I_1, I_2, \dots, I_n</m> be a collection of pairwise relatively prime ideals of <m>R</m>, and let 
        <md>
            <mrow>I \amp =\bigcap_{k=1}^n I_k=\prod_{k=1}^n I_k</mrow>
        </md>.
        The map 
        <md number="yes">
            <mrow>\phi\colon (R/I)^* \amp\rightarrow  \prod_{k=1}^n (R/I_k)^* </mrow>
            <mrow>r+I \amp \mapsto (r+I_1, r+I_2,\dots, r+I_n)</mrow>
        </md>
        is an isomorphism of groups. 
    </p>
    </statement>
    </corollary>
    </subsection>
    <subsection xml:id="ss_CRT_integers">
    <title>CRT: the integers</title>
    <p>
        In a PID we have an alternative formulation for when two ideals are relatively prime. 
    </p>
    <proposition xml:id="prop_pid_rel_prime">
        <title>Relatively prime ideals in PID</title>
        <statement>
            <p>
                Let <m>(a)</m> and <m>(b)</m> be ideals of the PID <m>R</m>. The following statements are equivalent.
                <ol>
                    <li>
                        <p>
                            <m>(a)</m> and <m>(b)</m> are relatively prime. 
                        </p>
                    </li>
                    <li>
                        <p>
                            <m>(a,b)=(1)</m>
                        </p>
                    </li>
                    <li>
                        <p>
                            If <m>c\in R</m> satisfies <m>c\mid a</m> and <m>c\mid b</m>, then <m>c</m> is a unit. 
                        </p>
                    </li>
                </ol>
            </p>
        </statement>
    </proposition>
   <theorem xml:id="th_crt_integers">
   <title>CRT: integers</title>
   <statement>
   <p>
   Let <m>a_1,a_2,\dots, a_n</m> be pairwise relatively prime integers (<ie/>, <m>\gcd(a_i, a_j)=1</m> for all <m>i\ne j</m>), and let <m>a=\prod_{k=1}^na_i</m>. 
   <ol>
    <li>
        <p>
            The map 
        <md number="no">
        <mrow>\phi\colon \Z/a\Z \amp \rightarrow \prod_{k=1}^n \Z/a_k\Z</mrow>
        <mrow>[m]_a \amp \mapsto ([m]_{a_1}, [m]_{a_2},\dots, [m]_{a_n}) </mrow>
        </md>
    is an isomorphism of rings. 
        </p>
    </li>
    <li>
        <p>
            The map 
        <md number="no">
        <mrow>\phi\colon (\Z/a\Z)^* \amp \rightarrow \prod_{k=1}^n (\Z/a_k\Z)^*</mrow>
        <mrow>[m]_a \amp \mapsto ([m]_{a_1}, [m]_{a_2},\dots, [m]_{a_n}) </mrow>
        </md>
    is an isomorphism of groups. 
        </p>
    </li>
    <li>
        <p>
            For any choice of integers <m>m_1, m_2, \dots, m_n</m>, the set of <m>x</m> satisfying the system of congruences
            <md>
                <mrow> x \amp \equiv m_1 \pmod{a_1}</mrow>
                <mrow>x \amp \equiv m_2 \pmod{a_2}</mrow>
                <mrow> \amp \vdots </mrow>
                <mrow>x \amp \equiv m_n \pmod{a_n}  </mrow>
            </md>
            forms a unique congruence class modulo <m>a</m>. That is, (i) there is a solution <m>x\in \Z</m> to this system of congruences, and (ii) <m>y</m> is another solution if and only if <m>x\equiv y\pmod a</m>. 
        </p>
    </li>
   </ol>
   </p>
   </statement>
   </theorem>
   <definition xml:id="d_euler_totient">
   <title>Euler's totient function</title>
   <statement>
   <p>
   <term>Euler's totient function</term> is the function <m>\varphi\colon \Z_{\geq 0}\rightarrow \Z</m> defined as 
   <md>
    <mrow>\varphi(n) \amp =\abs{\{k\in \{0,1,\dots, n-1\}\mid \gcd(k,n)=1\}}</mrow>
   </md>.
   In other words, <m>\varphi(n)</m> is the number of integers in <m>\{0,1\dots, n-1\}</m> that are relatively prime to <m>n</m>.
   </p>
   </statement>
   </definition>
   
   <corollary xml:id="cor_tot_func">
    <title>Euler's totient function</title>
    <statement>
        <p>
            Let <m>\varphi</m> be the Euler totient function. If <m>a_1,a_2,\dots, a_n</m> are pairwise relatively prime integers, then 
            <md number="yes">
                <mrow xml:id="eq_totient_mult">\phi(a_1a_2\cdots a_n) \amp = \phi(a_1)\phi(a_2)\cdots \phi(a_n) </mrow>
            </md>.
            Additionally, given <m>m=\prod_{k=1}^r p_k^{n_k}</m>, where the <m>p_k</m> are distinct prime integers, we have  
            <md number="yes">
                <mrow xml:id="eq_totient_formula">\varphi(m) \amp = \prod_{k=1}^{r}p^{n_k-1}(p_k-1) </mrow>
            </md>.
        </p>
    </statement>
    <proof>
        <p>
            Statement (1) follows immediately from <xref ref="th_crt_integers"/> and the fact (proven elsewhere) that 
            <md>
                <mrow>\var\phi(m) \amp = \abs{(\Z/m\Z)^*}</mrow>
            </md>.
            For (2), observe first the if <m>p</m> and <m>q</m> are distinct prime integers, then <m>\gcd(p^j, q^k)=1</m> for any positive integers <m>j</m> and <m>k</m>. Thus given the factorization <m>m=\prod_{k=1}^r p_k^{n_k}</m>, we have 
            <md>
                <mrow>\var\phi(m) \amp =\prod_{k=1}^n\var(p_k^{n_k})</mrow>
            </md>
            by (1). Furthermore, for any prime power <m>p^\ell</m> an integer <m>k\in \{0,1,\dots, p^\ell-1\}</m> is relatively prime to <m>p^\ell</m> if and only if it is not divisible by <m>p</m>, if and only if it is not a multiple of <m>p</m>. The set of multiples of <m>p</m> in <m>\{0,1,\dots, p^\ell-1\}</m> is 
            <md>
                <mrow>\{0,p, 2p, 3p, \dots, (p^{\ell-1}-1)p\} \amp =\{kp\mid k\in \{0,2,\dots, p^{\ell}-1\}\}</mrow>
            </md>,
            which has cardinality <m>p^{\ell-1}</m>. Thus 
            <md>
                <mrow>\varphi(p^\ell) \amp = p^\ell-p^{\ell-1}=p^{\ell-1}(p-1)</mrow>
            </md>.
        </p>
    </proof>
   </corollary>
    </subsection>
    

</section>