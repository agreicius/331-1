<?xml version="1.0" encoding="UTF-8"?>

<section xml:id="s_mod_rings" xmlns:xi="http://www.w3.org/2001/XInclude">
    <title>Modular arithmetic</title>
<subsection xml:id="ss_cong">
<title>Congruence</title>
<definition xml:id="d_divis">
<title>Divisibilty</title>
<notation>
    <usage><m>a\mid b</m></usage>
  <description><m>a</m> divides <m>b</m></description>
</notation>
<statement>
<p>
Given integers <m>a,b\in \Z</m> we say that <m>a</m> <term>divides</term> <m>b</m> (or that <m>b</m> is a <term>multiple</term> of <m>a</m>) if there is an integer <m>q\in \Z</m> satisfying <m>b=qa</m>. In this case, <m>q</m> is called the <term>quotient</term> of <m>b</m> by <m>a</m>.
</p>
</statement>
</definition>

<definition xml:id="d_cong_mod_n">
<title>Congruence modulo <m>n</m></title>
<notation>
    <usage><m>a\equiv b\pmod n</m></usage>
  <description><m>a</m> is congruent to <m>b</m> modulo <m>n</m></description>
</notation>
<notation>
    <usage><m>\overline{a}, [a]_n</m></usage>
  <description>the congruence class of <m>a</m> modulo <m>n</m></description>
</notation>
<statement>
<p>
Let <m>n</m> be a positive integer. Integers <m>a</m> and <m>b</m> are <term>congruent modulo <m>n</m></term>, denoted <m>a\equiv b\pmod n</m>, if one of the two following equivalent conditions holds:
<mdn>
    <mrow xml:id="eq_cong_mid">n \amp \mid a-b</mrow>
    <mrow xml:id="eq_cong_plus_mult">b \amp =a+qn \text{ for some } q\in \Z</mrow>
</mdn>.
The <term>congruence class</term> (or <term>residue class</term>) of <m>a</m> modulo <m>n</m>, denoted <m>\overline{a}</m> (or <m>[a]_n</m>) is the set of all integers congruent to <m>a</m> modulo <m>n</m>: <ie/>, 
<md>
    <mrow>\overline{a}=[a]_n \amp = \{b\in \Z\mid a\equiv b \pmod n\}</mrow>
    <mrow> \amp = \{a+qn\mid q\in \Z\}</mrow>
</md>.
Elements of a congruence class <m>[a]_n</m> are called <term>representatives</term> (or <term>residues</term>) of that class. 
</p>
<p>
The set of all congruence classes modulo <m>n</m> is denoted <m>\Z/n\Z</m>: <ie/>, 
<me>
    \Z/n\Z=\{[a]_n\mid a\in \Z\}
</me>.
The integer <m>n</m> in all the settings above is called a <term>modulus</term>. 
</p>
</statement>
</definition>
<example xml:id="eg_cong_mod_3">
<title>Congruence modulo <m>3</m></title>
<statement>
<p>
Consider the modulus <m>n=3</m>. 
<ol>
    <li>
        <p>
            Compute <m>[5]_3</m> and <m>[-1]_3</m>.
        </p>
    </li>
    <li>
       Find a finite list of integers <m>a_1,a_2,\dots, a_r</m> such that
       <me>
        \Z/3\Z=\{[a_1]_3, [a_2]_3,\dots, [a_r]_3\}
       </me>.
    </li>
    <li>
        <p>
            Compute <m>\abs{\Z/3\Z}</m>. 
        </p>
    </li>
</ol>
</p>
</statement>
<solution>
<p>
<ol>
    <li>
        <p>
            We have 
            <me>
                [5]_3=[-1]_3=[2]_3=\{\dots, -3,-1,2,5,\dots \}
            </me>.
        </p>
    </li>
    <li>
        <p>
            It is not difficult to show that for any <m>a\in \Z</m> we have <m>[a]_3=[k]_3</m> for some <m>k\in \{0,1,2\}</m>. (See theory below more generally.) Thus 
            <me>
                \Z/3\Z=\{[0]_3,[1]_3,[2]_3\}
            </me>.
        </p>
    </li>
    <li>
        <p>
            The sets 
            <md>
                <mrow>[0]_3 \amp = \{\dots, -3,0,3,6,\dots\}</mrow>
                <mrow>[1]_3 \amp = \{\dots,-2,1,4,7,\dots\}</mrow>
                <mrow>[2]_3 \amp =\{\dots, -1,2,5,8,\dots\}</mrow>
            </md>
            are clearly all distinct from one another. Thus <m>\abs{\Z/3\Z}=3</m>. 
        </p>
    </li>
</ol>
</p>
</solution>
</example>

<remark>
    <title>Congruence classes</title>
    <p>
        Fix an integer <m>n</m>. The notation <m>\overline{a}</m> is ambiguous since it does not indicate the modulus <m>n</m> in question. This is one reason for the alternative notation <m>[a]_n</m>. Furthermore, the <m>[a]_n</m> notation somehow does a better job of reminding us that a congruence class is not itself an integer, but rather a <em>set of integers</em>. 
    </p>
    <p>
        We will use both notations interchangeably. Typically, we will favor <m>\overline{a}</m> when performing modular arithmetic (see below), and <m>[a]_n</m> when asserting something about sets. 
    </p>
</remark>
<theorem xml:id="th_cong_class">
<title>Congruence</title>
<statement>
<p>
Fix a modulus <m>n</m>.
<ol>
    <li>
        <p>
            The congruence modulo <m>n</m> relation is an equivalence relation: <ie/>, 
            <ol marker="(i)">
                <li>
                    <title>Reflexivity</title>
                    <p>
                        <m>a\equiv a\pmod n</m> for all <m>a\in \Z</m>.
                    </p>
                </li>
                <li>
                    <title>Reflexivity</title>
                    <p>
                    If <m>a\equiv b\pmod n</m>, then <m>b\equiv a\pmod n</m>. 
                    </p>
                </li>
                <li>
                    <title>Transitivity</title>
                    
                    
                    <p>
                        If <m>a\equiv b\pmod n</m> and <m>b\equiv c\pmod n</m>, then <m>a\equiv c\pmod n</m>. 
                    </p>
                </li>
            </ol>
        </p>
    </li>
    <li>
        <p>
            The following statements are equivalent.
            <ol>
                <li>
                    <p>
                        <m>[a]_n=[b]_n</m>.
                    </p>
                </li>
                <li>
                    <p>
                        <m>a\in [b]_n</m>.
                    </p>
                </li>
                <li>
                    <p>
                       <m>a\equiv b\pmod n</m>.
                    </p>
                </li>  
            </ol>
        </p>
    </li>
    <li>
        <p>
            The congruence classes modulo <m>n</m> form a partition of <m>\Z</m>: <ie/>, we have 
            <me>
                \Z=\bigcup_{a\in \Z}[a]_n
            </me>,
            and if <m>[a]_n\ne [b]_n</m>, then <m>[a]_n\cap [b]_n=\emptyset</m>. Using logical notation:
            <men xml:id="eq_cong_disjoint">
                [a]_n\ne [b]_n\implies [a]_n\cap [b]_n=\emptyset
            </men>.
        </p>
    </li>
    <li>
        <p>
            Assume <m>n</m> is positive. For every <m>a\in \Z</m>, there is a unique <m>k\in \{0,1,\dots, n-1\}</m> such that 
            <me>
                [a]_n=[k]_n
            </me>.
            Equivalently, 
            <men xml:id="eq_integers_mod_n">
                \Z/n\Z=[0]_n\cup [1]_n\cup \dots \cup [n-1]_n
            </men>
            and 
            <me>
                [j]_n=[k]_n \text{ if and only if} j=k
            </me>
            for all <m>0\leq j,k\leq n-1</m>. As a consequence, 
            <men xml:id="eq_card_int_mod_n">
                \abs{\Z/n\Z}=n
            </men>.
        </p>
    </li>
</ol>
</p>
</statement>
<proof>
    <p>
        See text for (1). Statements (2)-(3) then follow from general properties about equivalence relations and their corresponding equivalence classes. Statement (4) follows from (2) and the following observation: 
        <me>
           0&lt;  \abs{a-b} &lt; n \implies n\nmid a-b
        </me>.
    </p>
</proof>
</theorem>
<definition xml:id="d_least_residue">
<title>Least residue modulo <m>n</m></title>
<statement>
<p>
Fix a positive modulus <m>n</m>. Given an integer <m>a</m> the <term>least residue</term> of <m>a</m> modulo <m>n</m>, denoted <m>a\bmod n</m> is the unique <m>r\in \{0,1,2,\dots, n-1\}</m> satisfying <m>a\equiv r\pmod n</m>. 
</p>
</statement>
</definition>
<warning>
    <title>Congruence relation and least residues</title>
    
    <p>
        Do not confuse the two quite similar looking notations <m>a\equiv b\pmod n</m> and <m>a\bmod n</m>.
        The first asserts that a certain relation holds, namely that <m>a</m> is congruent to <m>b</m> modulo <m>n</m>. The second denotes the unique integer in <m>\{0,1,\dots, n-1\}</m> that is congruent to <m>a</m> modulo <m>n</m>. 
    </p>
    <p>
        Said differently, the notion of the least residue defines a function 
        <md>
            <mrow>\underline{\phantom{aa}}\bmod n \colon \Z \amp\rightarrow \{0,1,\dots, n-1\} </mrow>
            <mrow>a \amp \longmapsto a\bmod n</mrow>
        </md>.
    </p>
</warning>


<theorem xml:id="th_div_alg">
<title>Division algorithm</title>
<statement>
<p>
Given any integer <m>a, b\in \Z</m> with <m>b</m> nonzero, there is a unique pair of integers <m>(q,r)</m> satisfying the following properties:
<ol marker="(i)">
    <li>
        <p>
            <m>a=qb+r</m>;
        </p>
    </li>
    <li>
        <p>
            <m>0\leq r&lt; \abs{b}</m>.
        </p>
    </li>
</ol>
We call the integers <m>q</m> and <m>r</m> satisfying these properties the <term>quotient</term> and <term>remainder</term> upon dividing <m>a</m> by <m>b</m>. 
</p>
</statement>
</theorem>

<proposition xml:id="prop_least_residue">
    <title>Least residue</title>
    <statement>
        <p>
            Let <m>n</m> be a positive integer, and let <m>a,r\in \Z</m>. The following statements are equivalent. 
            <ol>
                <li>
                    <p>
                        <m>a\bmod n=r</m>.
                    </p>
                </li>
                <li>
                    <p>
                        <m>[a]_n=[r]_n</m> and <m>r\in \{0,1,2\dots, n-1\}</m>. 
                    </p>
                </li>
                <li>
                    <p>
                        <m>r</m> is the remainder upon division of <m>a</m> by <m>n</m>. 
                    </p>
                </li>
            </ol>
        </p>
    </statement>
</proposition>

</subsection>
<subsection xml:id="ss_cong_ring_structure">
<title>Ring structure of <m>\Z/n\Z</m></title>
<proposition xml:id="prop_cong_arith">
<title>Modular arithmetic</title>
<statement>
<p>
Fix a modulus <m>n</m>. Assume integers <m>a,a',b,b'</m> satisfy
<md>
    <mrow>a \amp \equiv a' \pmod n \amp b\amp \equiv b'\pmod n</mrow>
</md>.
           We have 
           <mdn>
            <mrow>a+b \amp \equiv a'+b'\pmod n \amp </mrow>
            <mrow>a b\amp \equiv a' b' \pmod n \amp </mrow>
           </mdn>. 
       It follows from this that 
       <mdn>
            <mrow>[a+b]_n \amp = [a'+b']_n \amp </mrow>
            <mrow>[ab]_n\amp = [a'b']_n </mrow>
           </mdn>.
</p>
</statement>
</proposition>
<corollary xml:id="cor_mod_ring_ops">
    <title>Ring structure of <m>\Z/n\Z</m></title>
    <statement>
        <p>
          Fix a modulus <m>n</m>. We have well-defined binary operations <m>+</m> and <m>\cdot</m> defined on <m>\Z/n\Z</m> as follows:
          <md>
            <mrow> \Z/n\Z\times \Z/n\Z \amp\xrightarrow{\phantom{X}+\phantom{X}} \Z/n\Z \amp 
                 \Z/n\Z\times \Z/n\Z \amp\xrightarrow{\phantom{X}\bullet\phantom{X}} \Z/n\Z
            </mrow>
            <mrow>([a]_n,[b]_n) \amp \longmapsto [a+b]_n
                \amp 
                ([a]_n,[b]_n) \amp \longmapsto [ab]_n
            </mrow>
          </md>.
        </p>
    </statement>
</corollary>
<example xml:id="eg_mod_arith">
<title>Modular arithmetic</title>
<statement>
<p>
Fix the modulus <m>n=8</m>. Find a representative <m>r\in \{0,1,\dots, 7\}</m> for the congruence class 
<me>
  \overline{43}(\overline{23}\, \overline{11}+\overline{17})  
</me>.
</p>
</statement>
<solution>
<p>

</p>
</solution>
</example>
<example xml:id="eg_least_residue">
<title>Least residue</title>
<statement>
<p>
Let <m>n=50</m> and let <m>a=99^{1233}(7^8+ 1)</m>. Compute <m>a\bmod n</m>. 
</p>
</statement>
<solution>
<p>

</p>
</solution>
</example>
<activity xml:id="spec_Z_mod_n">
    <title>Additive group <m>\Z/n\Z</m></title>
    <statement>
        <p>
            Fix a positive integer <m>n</m>. The pair <m>(\Z/n\Z, +)</m> is a group, where <m>+</m> is the addition operation defined in <xref ref="cor_mod_ring_ops"/>.
        </p>
        <p>
            The group identity of <m>\Z/n\Z</m> is the congruence class <m>\overline{0}=[0]_n</m>.
        </p>
        <p>
            Given <m>\overline{a}\in \Z/n\Z</m>, its group inverse is <m>\overline{-a}</m>, denoted <m>-\overline{a}</m>.
        </p>
    </statement>
</activity>
<definition xml:id="d_mult_inv_elements">
<title>Multiplicative units in <m>\Z/n\Z</m></title>
<statement>
<p>
Fix a modulus <m>n</m>. An element <m>\overline{a}\in \Z/n\Z</m> is a <term>unit</term> (or <term>(multiplicatively) invertible</term>) if there is an element <m>\overline{b}\in \Z/n\Z</m> satisfying 
<me>
    \overline{a}\overline{b}=\overline{b}\overline{a}=\overline{1}
</me>.
The element <m>\overline{b}</m> in this case is called the <term>multiplicative inverse</term> of <m>\overline{a}</m>, denoted <m>\overline{a}^{-1}</m>. The set of all units of <m>\Z/n\Z</m> is denoted <m>(\Z/n\Z)^*</m>: <ie/>, 
<men xml:id="eq_mult_units_mod_n">
    (\Z/n\Z)^*=\{\overline{a}\in \Z/n\Z\mid \overline{a}\overline{b}=\overline{1} \text{ for some } \overline{b}\in \Z/n\Z\}</men>.
</p>
</statement>
</definition>
<activity xml:id="spec_units_mod_n">
<title>Units modulo <m>n</m></title>
<statement>
<p>
Fix a modulus <m>n</m>. The pair <m>((\Z/n\Z)^*, \cdot)</m> is a group, where <m>\cdot</m> is the operation defined in <xref ref="cor_mod_ring_ops"/>.
</p>
<p>
    The group identity of <m>(\Z/n\Z)^*</m> is <m>\overline{1}</m>. 
</p>
<p>
    Given <m>\overline{a}\in (\Z/n\Z)^* </m>, its group inverse is its multiplicative inverse <m>\overline{a}^{-1}</m>. 
</p>
</statement>
</activity>
<example xml:id="eg_mod_groups">
<title>Modulus <m>n=5</m></title>
<statement>
<p>
Compute group tables for both <m>\Z/5\Z</m> and <m>(\Z/5\Z)^*</m>. Naturally, for the latter you should first determine the units of <m>\Z/5\Z</m>. 
</p>
</statement>
<solution>
<p>

</p>
</solution>
</example>
<example xml:id="eg_mod_units">
<title>Units modulo <m>9</m></title>
<statement>
<p>
Compute a group table for <m>(\Z/9\Z)^*</m>.
</p>
</statement>
<solution>
<p>

</p>
</solution>
</example>
<definition xml:id="d_gcd">
<title>Greatest common divisor</title>
<statement>
<p>
Let <m>a</m> and <m>b</m> be integers, at least one of which is nonzero. The <term>greatest common divisor</term> of <m>a</m> and <m>b</m>, denoted <m>\gcd(a,b)</m>, is the greatest positive integer dividing both <m>a</m> and <m>b</m>: <ie/>, 
<men xml:id="eq_gcd_int">
    \gcd(a,b)=\max\{q\in \Z_{&gt; 0}\mid q\mid a \text{ and } q\mid b\}
</men>.
</p>
</statement>
</definition>

<remark>
    <title>Units mod <m>n</m></title>
    <p>
        As we will see later, it turns out that an element <m>\overline{a}\in \Z/n\Z</m> is a unit if and only if <m>a</m> is <em>relatively prime</em> to <m>n</m>: <ie/>, if and only if <m>\gcd(a,b)=1</m>. As a result of this very much non-obvious fact, we have 
        <me>
            (\Z/n\Z)^*=\{\overline{a}\in \Z/n\Z\mid \gcd(a,n)=1\}
        </me>.
    </p>
    
</remark>
</subsection>
</section>